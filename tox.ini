[tox]
envlist = py34, py35, flake8
skipsdist = true
usedevelop = true

[travis]
python =
       3.4: py34
       3.5: py35, linters

[testenv]
# Switch back to just 'pex' once pex 1.19 is released with bugfix:
deps =
     git+https://github.com/pantsbuild/pex.git
     pytest
     -rrequirements.txt
commands =
         py.test reloop
         pex --disable-cache -c reloopd -o dist/reloopd "--python-shebang=/usr/bin/env python3" -r requirements.txt .
         {envpython} dist/reloopd --help

[testenv:linters]
deps =
     -rrequirements.txt
     flake8
     pylint
commands =
         flake8 reloop
         pylint -E --output-format=parseable reloop

[flake8]
ignore =
       # line too long:
       E501
